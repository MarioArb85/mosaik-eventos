<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gala Anual de la Fundación Vida | Mosaïk Eventos</title>
    
    <link rel="icon" type="image/png" href="mosaik-favicon.jpg"> 
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <style>
        /* Paleta de Colores de Mosaïk Eventos */
        :root {
            --azul-principal: #3E649E;
            --gris-oscuro: #29323C;
            --gris-claro: #F2F2F0;
            --blanco: #FFFFFF;
        }

        /* Estilos Globales */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { height: 100%; }
        body {
            font-family: 'Open Sans', sans-serif; line-height: 1.6; color: var(--gris-oscuro);
            background-color: var(--blanco);
            display: flex; flex-direction: column; min-height: 100vh;
        }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        h1, h2, h3 { font-family: 'Montserrat', sans-serif; font-weight: 700; margin-bottom: 20px; }
        a { text-decoration: none; color: var(--azul-principal); }
        
        /* Contenido Principal (Añadimos padding para márgenes) */
        .main-content { 
            flex-grow: 1; 
            background-color: var(--gris-claro); 
            padding: 40px 0; /* Padding arriba y abajo */
        }
        .content-section { padding: 80px 0; }

        /* ------------------------------------- */
        /* 1. Header & Navegación (Uniforme) */
        /* ------------------------------------- */
        header { background-color: var(--blanco); box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05); padding: 15px 0; position: relative; }
        .header-content { display: flex; justify-content: space-between; align-items: center; }
        .logo a { display: block; line-height: 0; padding: 0; margin: 0; } 
        .logo img { max-height: 60px; width: auto; }
        nav ul { list-style: none; display: flex; align-items: center; padding: 0; }
        nav ul li { margin-left: 30px; }
        nav ul li a { color: var(--gris-oscuro); font-weight: 600; padding: 10px 0; display: block; transition: color 0.3s ease; }
        nav ul li a:hover { color: var(--azul-principal); }
        .menu-toggle { display: none; font-size: 1.8em; cursor: pointer; color: var(--gris-oscuro); }
        
        /* ------------------------------------- */
        /* 2. Secciones Específicas del Evento */
        /* ------------------------------------- */
        .hero-evento { 
            background: url('img/Telefónica_Portada.jpg') center/cover no-repeat; 
            height: 450px;
            color: var(--blanco);
            display: flex;
            align-items: flex-end; 
            padding-bottom: 40px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.6);
            position: relative;
        }
        .hero-evento::after {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0) 100%);
            z-index: 1;
        }
        .hero-content { z-index: 2; position: relative; }
        .hero-content h1 { font-size: 3em; margin-bottom: 5px; }
        
        .event-info .container { max-width: 1200px; text-align: center; } 
        .event-info h2 { color: var(--azul-principal); font-size: 2em; }
        .event-info p { max-width: 1200px; margin: 0 auto 15px; padding: 0 20px;} 

        /* Estilos de Galería Estilo Pinterest (Masonry con CSS Grid) */
        .event-gallery {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            /* CAMBIO CLAVE: Fija a 4 columnas para escritorio */
            grid-template-columns: repeat(4, 1fr); 
            grid-gap: 15px; 
            grid-auto-rows: 20px; 
            padding: 0 20px; 
        }
        
        .gallery-item {
            /* VALOR BASE POR DEFECTO */
            grid-row-end: span 7; 
            overflow: hidden;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); 
            background-color: var(--blanco);
        }

        /* Clases de variación de altura: span 7 a span 10 (Rango solicitado) */
        .gallery-item.h-short { grid-row-end: span 7; } 
        .gallery-item.h-mid { grid-row-end: span 10; }  

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            cursor: zoom-in;
            transition: transform 0.3s;
        }
        .gallery-item img:hover {
            transform: scale(1.02);
        }

        /* ------------------------------------- */
        /* 3. LIGHTBOX (VISOR DE FOTOS - FINITO) */
        /* ------------------------------------- */
        .lightbox-overlay {
            display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background-color: rgba(0, 0, 0, 0.8); backdrop-filter: blur(5px);
            z-index: 1000; align-items: center; justify-content: center; padding: 20px;
        }
        .lightbox-content {
            position: relative; max-width: 90%; max-height: 90%; display: flex; align-items: center;
        }
        .lightbox-content img {
            max-width: 100%; max-height: 80vh; object-fit: contain; border-radius: 5px;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.7);
        }
        
        /* Flechas de navegación */
        .lightbox-nav-btn {
            background: rgba(41, 50, 60, 0.9); 
            color: var(--blanco); 
            border: none; 
            padding: 15px;
            cursor: pointer; 
            font-size: 2em; 
            transition: background 0.3s, opacity 0.3s; 
            z-index: 1001;
            border-radius: 5px; 
            position: absolute; 
            top: 50%; 
            transform: translateY(-50%);
        }
        .lightbox-nav-btn:hover { background: var(--azul-principal); }

        /* Estilo de Flecha DESACTIVADA */
        .lightbox-nav-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
            background: rgba(41, 50, 60, 0.5);
        }

        /* Botón de cierre */
        .lightbox-close {
            position: absolute; 
            top: 20px; 
            right: 20px; 
            font-size: 1.8em; 
            padding: 10px 15px;
            background: rgba(41, 50, 60, 0.9); 
            color: var(--blanco); 
            border: none; 
            border-radius: 5px;
            cursor: pointer; 
            transition: background 0.3s; 
            z-index: 1002;
        }
        .lightbox-close:hover { background: var(--azul-principal); }

        /* Posición de los iconos fuera del área de la imagen grande */
        #lightboxPrev3 { left: -60px; } 
        #lightboxNext3 { right: -60px; } 

        /* ------------------------------------- */
        /* 4. Footer (Mínimo Solicitado) */
        /* ------------------------------------- */
        footer {
            background-color: var(--gris-oscuro);
            color: var(--gris-claro);
            padding: 20px 0;
            font-size: 0.9em;
            text-align: center;
        }
        footer p {
            margin: 0;
        }

        /* MEDIA QUERIES */
        @media (max-width: 992px) {
            .menu-toggle { display: block; }
            nav { position: absolute; top: 90px; right: 0; width: 100%; background-color: var(--blanco); box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); z-index: 100; display: none; padding: 10px 0; }
            nav ul { flex-direction: column; align-items: flex-start; padding: 0; }
            nav ul li { margin: 0; width: 100%; text-align: center; border-bottom: 1px solid var(--gris-claro); }
            .nav-open { display: block; }

            .hero-evento { height: 300px; }
            .hero-content h1 { font-size: 2.2em; }
            
            /* Galería Responsiva: 2 columnas en tablet */
            .event-gallery {
                grid-template-columns: repeat(2, 1fr); /* 2 columnas en tablets */
            }

            /* Flechas de lightbox en posición responsive (dentro de la pantalla) */
            #lightboxPrev3 { left: 20px; } 
            #lightboxNext3 { right: 20px; }
        }
        @media (max-width: 600px) {
             /* Galería Responsiva: 1 columna en móvil */
            .event-gallery {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    
    <header>
        <div class="container header-content">
            <div class="logo">
                <a href="index.html">
                    <img src="mosaik-logo.jpg" alt="Mosaïk Eventos">
                </a>
            </div>
            
            <div class="menu-toggle" id="menuToggle">
                <i class="fas fa-bars"></i>
            </div>

            <nav id="mainNav">
                <ul>
                    <li><a href="eventos.html" style="color: var(--azul-principal);">Eventos</a></li> 
                    <li><a href="#">Nosotros</a></li> 
                    <li><a href="contacto.html" style="color: var(--azul-principal);">Contacto</a></li> 
                </ul>
            </nav>
        </div>
    </header>

    <section class="hero-evento">
        <div class="container hero-content">
            <h1>Gala Anual de la Fundación Vida</h1>
        </div>
    </section>

    <section class="content-section event-info">
        <div class="container">
            <h2>El Arte de la Filantropía</h2>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Laboriosam, vitae. Quas, eaque voluptate! Reprehenderit, veritatis. Vero, dignissimos at deleniti dolore laboriosam corporis natus! Numquam iste, iusto cumque facilis, ex vitae, quos modi id nobis temporibus veniam. Adipisci, officia? Quam, voluptatum. Esto es un texto de relleno para ocupar el ancho de 1200px.</p>
            <p>Aliquid omnis beatae, quae debitis cumque voluptatem, eius maxime id, perferendis rerum quo error. Distinctio est nulla deleniti animi, non sapiente! Nemo quisquam rem, veritatis facilis dolor assumenda earum, corporis quos voluptatem, sint ratione illum.</p>
        </div>
    </section>
    
    <section class="main-content">
        <div class="event-gallery" id="eventGallery3">
            <div class="gallery-item h-mid"><img src="img/About_Portada.jpg" alt="Foto Gala 1" data-image="img/About_Portada.jpg"></div>
            <div class="gallery-item h-short"><img src="img/Bodas_Portada.jpg" alt="Foto Gala 2" data-image="img/Bodas_Portada.jpg"></div>
            <div class="gallery-item h-mid"><img src="img/Conciertos_Portada.jpg" alt="Foto Gala 3" data-image="img/Conciertos_Portada.jpg"></div>
            <div class="gallery-item h-short"><img src="img/Tactik_Portada.jpg" alt="Foto Gala 4" data-image="img/Tactik_Portada.jpg"></div>
            <div class="gallery-item h-mid"><img src="img/TEDx_Portada.jpg" alt="Foto Gala 5" data-image="img/TEDx_Portada.jpg"></div>
            <div class="gallery-item h-short"><img src="img/Telefónica_Portada.jpg" alt="Foto Gala 6" data-image="img/Telefónica_Portada.jpg"></div>
            <div class="gallery-item h-mid"><img src="img/About_Portada.jpg" alt="Foto Gala 7" data-image="img/About_Portada.jpg"></div>
            <div class="gallery-item h-short"><img src="img/Bodas_Portada.jpg" alt="Foto Gala 8" data-image="img/Bodas_Portada.jpg"></div>
            <div class="gallery-item h-mid"><img src="img/Conciertos_Portada.jpg" alt="Foto Gala 9" data-image="img/Conciertos_Portada.jpg"></div>
            <div class="gallery-item h-short"><img src="img/Tactik_Portada.jpg" alt="Foto Gala 10" data-image="img/Tactik_Portada.jpg"></div>
            <div class="gallery-item h-mid"><img src="img/TEDx_Portada.jpg" alt="Foto Gala 11" data-image="img/TEDx_Portada.jpg"></div>
            <div class="gallery-item h-short"><img src="img/Telefónica_Portada.jpg" alt="Foto Gala 12" data-image="img/Telefónica_Portada.jpg"></div>
        </div>
    </section>

    <footer>
        <div class="container">
            <p>&copy; 2025 Mosaïk Eventos. Todos los derechos reservados.</p>
        </div>
    </footer>
    
    <div class="lightbox-overlay" id="lightboxOverlay3">
        <button class="lightbox-close" id="lightboxClose3">&times;</button>
        <div class="lightbox-content">
            <button class="lightbox-nav-btn" id="lightboxPrev3">&#10094;</button>
            <img id="lightboxImage3" src="" alt="">
            <button class="lightbox-nav-btn" id="lightboxNext3">&#10095;</button>
        </div>
    </div>
    <script>
        // Lógica de navegación del menú
        document.getElementById('menuToggle').addEventListener('click', function() {
            document.getElementById('mainNav').classList.toggle('nav-open');
        });

        // ----------------------------------------------------
        // LÓGICA LIGHTBOX (FINITA - NO CÍCLICA)
        // ----------------------------------------------------
        const overlay = document.getElementById('lightboxOverlay3');
        const closeBtn = document.getElementById('lightboxClose3');
        const prevBtn = document.getElementById('lightboxPrev3');
        const nextBtn = document.getElementById('lightboxNext3');
        const imageElement = document.getElementById('lightboxImage3');
        const gallery = document.getElementById('eventGallery3'); 
        let images = [];
        let currentIndex = -1;

        function collectImages() {
            // Recolecta todas las imágenes dentro de la galería
            images = Array.from(gallery.querySelectorAll('.gallery-item img')).map(img => ({
                src: img.getAttribute('data-image') || img.src,
                alt: img.alt,
                element: img 
            }));
        }

        // Desactiva los botones en los límites
        function updateLightboxNav() {
            prevBtn.disabled = currentIndex === 0;
            nextBtn.disabled = currentIndex === images.length - 1;
        }

        function openLightbox(index) {
            currentIndex = index;
            if (currentIndex >= 0 && currentIndex < images.length) {
                imageElement.src = images[currentIndex].src;
                imageElement.alt = images[currentIndex].alt;
                overlay.style.display = 'flex';
                document.body.style.overflow = 'hidden'; 
                updateLightboxNav(); // Actualiza el estado de los botones
            }
        }

        function closeLightbox() {
            overlay.style.display = 'none';
            document.body.style.overflow = 'auto'; 
            currentIndex = -1;
        }

        // Previene la navegación más allá de los límites
        function navigateLightbox(direction) {
            let newIndex = currentIndex + direction;
            
            // Si el nuevo índice está dentro de los límites válidos, navega
            if (newIndex >= 0 && newIndex < images.length) {
                openLightbox(newIndex);
            }
        }

        gallery.addEventListener('click', function(e) {
            if (e.target.tagName === 'IMG') {
                collectImages(); 
                const index = images.findIndex(item => item.element === e.target);
                openLightbox(index);
            }
        });

        closeBtn.addEventListener('click', closeLightbox);
        prevBtn.addEventListener('click', () => navigateLightbox(-1));
        nextBtn.addEventListener('click', () => navigateLightbox(1));

        document.addEventListener('keydown', function(e) {
            if (overlay.style.display === 'flex') {
                if (e.key === 'Escape') {
                    closeLightbox();
                } 
                // Navegación de teclado finita
                else if (e.key === 'ArrowLeft' && currentIndex > 0) {
                    navigateLightbox(-1);
                } else if (e.key === 'ArrowRight' && currentIndex < images.length - 1) {
                    navigateLightbox(1);
                }
            }
        });

        document.addEventListener('DOMContentLoaded', collectImages);

        overlay.addEventListener('click', function(e) {
            if (e.target === overlay) {
                closeLightbox();
            }
        });
    </script>
</body>
</html>